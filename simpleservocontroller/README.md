<h1 align="center">
  <a href="https://www.youtube.com/@trashrobotics"><img src="https://codeberg.org/TrashRobotics/SimpleServoController/raw/branch/main/img/servo.jpeg" alt="Сервопривод" width="800"></a>
  <br>
	Регуляторы положения серводвигателя
  <br>
</h1>

## База
В репозитории лежат два скетча для превращения двигателей в сервоприводы.       
Простой PID-регулятор в **simple_pid**.      
Сложный регулятор с несколькими контурами и подчиненным регулированием в **complex_controller**.                 

### Базовый набор сервостроителя состоит из:
* непосредственно, двигателя (tt мотор-редуктор);
* микроконтроллера (ардуинки);
* драйвера двигателей (MX1508);
* датчика положения (AS5600 или потенциометр);
* [можно сварганить редуктор](https://www.thingiverse.com/thing:5886233);
* для сложного регулятора нужен датчик тока (ACS712 5А) и еще можно накинуть инкрементальных энкодеров (опционально); 

Набор можно собирать по своему усмотрению, но тогда придется чутка переделывать скетчи. В т.ч. если использовать бесколлекторные двигатели. 

## Задание положения
Управление самопальными сервоприводами происходит через UART в формате JSON. Например так:
```shell
{"angle":180}
```
Эту строку можно вбивать прямо в Serial-monitor или Serial-plotter.
Для отладки или настройки коэффициентов PID регулятора (необходимо раскомментировать соответствующие строки) можно 
пересылать и другие параметры. Например:
```shell
{"pkp": 16, "pki": 0.0, "pkd": 0.0, "vkp": 0.007, "vki": 0.00, "ikp": 60, "iki": 400, "angle":200} 
```

Подробнее про все остальное смотрите в [видео](https://www.youtube.com/@trashrobotics)
